快人快语 (FastVoice) v1.0.1 - 备份信息
==========================================

备份时间: 2026-01-04 22:12:56

本次备份包含以下核心文件：
------------------------------------------
1. core/text_postprocessor.py  (35KB) - 文本后处理器
2. core/audio_capture.py       (21KB) - 音频捕获模块
3. core/hotkey_manager.py      (36KB) - 快捷键管理器
4. main.py                     (28KB) - 主程序
5. ui/settings_window.py       (25KB) - 设置窗口

本次版本主要更新：
------------------------------------------

【核心优化1：连续翻译修复】(audio_capture.py)
- 修复第二次翻译失败问题
- 将 daemon 线程改为非 daemon，确保资源正确释放
- 超时时间从 2 秒增加到 5 秒
- 位置：lines 269-316

【核心优化2：中文数字处理增强】(text_postprocessor.py)
- 动词重叠模式保护：听一听、看一看、闻一闻等
- 数量概数表达保护：三五个、七八个、十来个
- 成语保护：一心一意、三心二意、七上八下等
- 时间日期保护：星期一、五月一日、二零二四年
- 形容词重叠保护：大大的、红红的、好好的
- 口语化数字保护：两万、三万等（保留）
- 正式数字转换：一万一千一百 → 11100
- 修复占位符命名冲突问题
- 修复"万一"保护冲突问题
- 位置：lines 592-774

【快捷键管理器优化】(hotkey_manager.py)
- P0 重构版：状态机 + 防抖 + watchdog
- 智能休眠机制
- 按键事件跟踪
- Listener 重建机制

测试结果：
------------------------------------------
✓ 连续翻译功能正常
✓ 动词重叠模式正确保留：听一听 → 听一听
✓ 正式数字正确转换：一万一千一百 → 11100
✓ 口语化数字正确保留：两万 → 两万
✓ 数量概数正确保留：三五个 → 三五个

已知问题：
------------------------------------------
无

恢复方法：
------------------------------------------
如需恢复此备份版本：
1. 停止应用
2. 复制 backup_20260104_221256/ 目录下的文件到对应位置
3. 重启应用

备份路径：
/Users/wangchengliang/Documents/claude/快人快语/backup_20260104_221256/
==========================================
